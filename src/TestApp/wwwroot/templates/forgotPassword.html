<div class="container" ng-controller="forgotPasswordController">
    <div class="row">
        <div class="Absolute-Center is-Responsive">
            <div class="col-sm-12 col-md-10 col-md-offset-1" >

                <!--show this panel if user wants to reset password-->
                <div class="panel panel-primary" ng-hide="forgotPasswordConfirm">
                    <div class="panel-heading">
                        <h3 class="panel-title">Forgot Password?</h3>
                    </div>

                    <div class="panel-body">
                        <div class="text-center">

                            <div ng-show="error" class="alert alert-danger" role="alert">
                                <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                                <span class="sr-only">Error:</span>
                                {{error}}
                            </div>

                            <h4><i class="fa fa-lock fa-4x"></i></h4>
                            <p>When you fill in your registered email address, you will be sent instructions on how to reset your password.</p>
                            <div class="panel-body">

                                <form ng-submit="forgotPassword()" role="form" name="form" novalidate>
                                    <fieldset>
                                        <div class="form-group input-group">
                                            <span class="input-group-addon" id="sizing-addon2">@</span>
                                            <input type="email" name="email" id="email" class="form-control" placeholder="Email address" ng-model="email" required />
                                        </div>
                                        <div class="errors" ng-show="{ active: form.email.$invalid && form.email.$dirty && form.email.$error.required }">
                                            <div class="error help-block ng-hide" ng-show="form.email.$error.email">
                                                <p>This is not a valid email!</p>
                                            </div>
                                            <div class="error ng-hide" ng-show="form.email.$error.required">
                                                <p>Email is required!</p>
                                            </div>
                                        </div>
                                        <div class="form-actions">
                                            <button type="submit" ng-disabled="form.$invalid" class="btn btn-primary btn-block">Send My Password</button>
                                        </div>
                                    </fieldset>
                                </form>
                                <br />
                                <span>Already have an account?</span><a href="#/login"> login here</a>
                                <span>New user?</span><a href="#/register"> create new account</a>
                            </div>
                        </div>
                    </div>
                </div>

                <!--show this part of the code if user already validated email and user exists-->
                <div class="panel panel-primary" ng-show="forgotPasswordConfirm">
                    <div class="panel-heading">
                        <h3 class="panel-title">Forgot Password Confirmation</h3>
                    </div>

                    <div class="panel-body">
                        <div class="text-center">
                            <h4><i class="fa fa-lock fa-4x"></i></h4>
                            <p>Email has been sent to you.</p>
                            <div class="panel-body">
                                <p>
                                    Please check your email to reset your password.
                                </p>
                            </div>
                            <br />
                            <span>Password Confirmed?</span><a href="#/login"> login here</a> <br />
                            <span>New user?</span><a href="#/register"> create new account</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
